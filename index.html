<!doctype html>
<html lang="fr">

	<head>
		<meta charset="utf-8">

		<title>TheliaTour Presentation</title>

		<meta name="description" content="présentation de Thelia lors du Thelia tour">
		<meta name="author" content="Manuel Raynaud - mraynaud@openstudio.fr & Stéphanie Pinet - spinet@openstudio.fr">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'>
		
		<link rel="stylesheet" href="reveal.js/css/reveal.min.css">
		<link rel="stylesheet" href="reveal.js/css/theme/beige.css" id="theme">
		<link rel="stylesheet" href="custom/css/thelia.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="reveal.js/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

			 <section>
                <section>
                    <img src="custom/images/thelia-ppt.png">
                </section>
              </section>

              <section>
                 <section>
                        <h2>THELIA <br /> <span class="baseline"> Solution e-commerce 100% libre </span> </h2>
                        <div class="separator"></div>
                        <p> Créée en 2005 </p> 
                        <p class="fragment"> Objectif : solution souple et modulaire</p>
                        <p class="fragment"> Publiée sous licence GPL en 2006</p>
                 </section>

                 <section>
                        <h2><span class="baseline">  Editée par OpenStudio </span></h2>
                         <div class="separator"></div>
                        <p> Septembre 2012 : fusion Octolys / OpenStudio</p>
                        <p class="fragment"> Société de Services en Logiciels Libres </p>
                        <p class="fragment"> 26 collaborateurs </p>
                          <div class="separator"></div>
                        <p> <img src="custom/images/Logo-openstudio.png"></p>
                 </section>

                  <section>
                  		 <h2><span class="baseline">Quelques clients</span></h2>
                        <img src="custom/images/clients-os.png">
                  </section>
                  
                  <section>
                  		 <h2><span class="baseline">Quelques exemples de réalisations</span></h2>
                    </section>
                  
                  <section>
                  		<img src="custom/images/boutiques/bewak.png">
                  </section>
                  <section>
                  		<img src="custom/images/boutiques/tea.png">
                  </section>
                  <section>
                  		<img src="custom/images/boutiques/lebarbu.png">
                  </section>
                     <section>
                  		<img src="custom/images/boutiques/sodetrel.png">
                  </section>

                  <section>
                  		<img src="custom/images/boutiques/royatonic.png">
                  </section>
                  <section>
                  		<img src="custom/images/boutiques/tamponneuse.png">
                  </section>

                   <section>
                        <h2>THELIA <br /> <span class="baseline"> Nos projets pour 2013 </span></h2>
                         <div class="separator"></div>
                        <p>Espace contributeurs</p>
                        <p class="fragment">TheliaTour</p>
                        <p class="fragment">Salon e-commerce</p>

                        <img src="custom/images/Communaute.png">
                 </section>


              </section>



                <section>
                    <section>
                        <h1>Thelia Aujourd'hui</h1>
                        <img src="custom/images/pres_bo.png">
                    </section>
                    <section>
                        <ul>
                            <li>Version 1.5 Long Term Support</li>
                            <li class="fragment">Sourceforge.net</li>
                            <li class="fragment">Documentation complète</li>
                            <li class="fragment">Communauté active</li>
                            <li class="fragment">+7 000 boutiques</li>
                            <li class="fragment">+300 Plugins
                                <ul>
                                    <li>Paysite Cash</li>
                                    <li>Shoppingflux</li>
                                    <li>SoColissimo</li>
                                    <li>Mailjet</li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>Syntaxe</h2>
                    </section>
                    <section>
                        <h2>Boucle</h2>
                        <pre>
                            <code data-trim class="html">
<THELIA_prod type="PRODUIT" ref="ref_prod">
    <p class="bloc_description">
        #DESCRIPTION
    </p>
    prix : #PRIX
</THELIA_prod>
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Filtre</h2>
                        <pre>
                            <code>
#FILTRE_egalite(variable à tester||valeur||affichage si égale)
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Boucle test</h2>
                        <pre>
                            <code data-trim>
<TEST_nom_boucle variable="var_ou_val" test="type test" valeur="var_ou_val">
    afficher si la condition est vérifiée
</TEST_nom_boucle>
    afficher si la condition n'est pas vérifiée
<\//TEST_nom_boucle>
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Boucle Répéter</h2>
                        <pre>
                            <code data-trim>
<REPETER_nom_boucle debut="nombre" fin="nombre" increment="nombre">
    texte à répéter
</REPETER_nom_boucle>
                            </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h1>Thelia V2</h1>
                        <img src="custom/images/thelia_v2.png">
                    </section>
                    <section>
                        <ul>
                            <li>Renforcer les performances</li>
                            <li>Internationalisation du code source</li>
                            <li>Faciliter l'intéropérabilité</li>
                            <li>De nouvelles fonctionnalités</li>
                            <li>Nouvelle documentation</li>
                            <li>Solution toujours plus modulaire</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Fonctionnalités</h2>
                        <ul>
                            <li>Moteur de taxes</li>
                            <li>Combinaison de déclinaisons</li>
                            <li>Gestion de code promo avancé</li>
                            <li>Multi rubriquge</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Symfony components</h2>
                        <img src="custom/images/sf.png">
                    </section>
                    <section>
                        <ul>
                            <li>Dependency Injection</li>
                            <li class="fragment">Event Dispatcher</li>
                            <li class="fragment">Http Kernel</li>
                            <li class="fragment">Http Foundation</li>
                            <li class="fragment">Config</li>
                            <li class="fragment">Console</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <img src="custom/images/composer.png">
                    </section>
                    <section>
                        <ul>
                            <li>Gestion de dépendance des librairies</li>
                            <li>Utilisation de l'autoloader</li>
                            <li>Dump d'un class map</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <img src="custom/images/propel-logo.png">
                    </section>
                    <section>
                        <p>Version 1.6</p>
                        <p><a href="https://github.com/thelia/model">https://github.com/thelia/model</a></p>
                    </section>
                </section>
                <section>
                    <h2>Intégration continue</h2>
                    <img src="custom/images/travis_phpunit.png">
                </section>
                <section>
                    <h2>PHP FIG</h2>
                    <ul>
                        <li>PSR-0 (class autoloader and namespaces)</li>
                        <li>PSR-1 (coding standard)</li>
                        <li>PSR-2 (coding standard)</li>
                        <li>PSR-3 (logger interface)</li>
                    </ul>
                </section>
                <section>
                    <section>
                        <h1>Tpex</h1>
                        <p>Nouveau Parser</p>
                        <p class="fragment">Indépendant !</p>
                    </section>
                    <section>
                        <h2>Syntaxe</h2>
                    </section>
                    <section>
                        <h2>Boucle</h2>
                        <pre>
                            <code data-trim>
{ifloop rel="loop_id"}
    <p>Display if loop return at least 1 result</p>
    {loop id="loop_id" type="product" arg1="value1" arg2="value2"}
        price : #PRICE
    {endloop}
    <p>Display if loop return at least 1 result</p>
{elseloop}
    <p>Display if loop return nothing</p>
{endifloop}
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Boucle test</h2>
                        <pre>
                            <code data-trim>
{if var==value && var2==value2}
    <p>display if true</p>
{else}
    <p>display if false</p>
{endif}
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Filtre</h2>
                        <pre>
                            <code data-trim>
{#VAR|strtoupper}
                            </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h1>Codons !</h1>
                    </section>
                    <section>
                        <p>Structure d'un plugin (local/modules)</p>
                        <pre>
                            <code data-trim>
MyModule
    MyModule.php
    Config
        config.xml
    Loop
        Product.php
        MyLoop.php
    Actions
        Customer.php
        Cart.php
    Model
        ...
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Config.xml</h2>
                        <pre>
                            <code data-trim>
<?xml version="1.0" encoding="UTF-8" ?>

<config xmlns="http://thelia.net/schema/dic/config"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://thelia.net/schema/dic/config http://thelia.net/schema/dic/config/thelia-1.0.xsd"
>
    <loops>
        <loop name="MyModule_Product" class="MyModule\Loop\Product" />
        <loop name="MyModule_MyLoop" class="MyModule\Loop\MyLoop" />
    </loops>
    <services>
        <service id="myplugin.action.customer" class="MyModule\Actions\Customer">
            <tag name="kernel.event_subscriber"/>
        </service>
    </services>
</config>
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Boucle MyModule_Product</h2>
                        <pre>
                            <code class="php" data-trim data-noescape>
namespace MyModule\Loop;

use Thelia\Tpex\Element\Loop\BaseLoop;
use Thelia\Tpex\Element\Loop\LoopResult;
use Thelia\Tpex\Element\Loop\LoopResultRow;

class Product extends BaseLoop
{
    public function defineArgs()
    {

    }

    public function exec()
    {

    }
}
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>defineArgs</h2>
                        <pre>
                            <code class="php" data-trim data-noescape>
/**
* @return array defining all loop arguments
*/
public function defineArgs()
{
    return array(
        "ref",
        "id" => "optional",
        "stock" => array(
            "optional",
            "default" => 1
        )
    );
}
                            </code>
                        </pre>
                        <p>Tous les arguments sont accessibles comme des propriétés publics de la classe</p>
                    </section>
                    <section>
                        <h2>exec</h2>
                        <pre>
                            <code class="php" data-trim data-noescape>
/**
* @return \Thelia\Tpex\Element\Loop\LoopResult
*/
public function exec()
{
    $result = new LoopResult();
    if($this->stock < 0) $this->stock = ($this->stock * -1);
    $this->stock += 10;
    for ($i=0; $i < $this->stock; $i++) {
        $loopResultRow = new LoopResultRow();
        $loopResultRow->set('modulo', $i%2);
        $result->addRow($loopResultRow);
    }
    return $result;
}
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Récapitulons</h2>
                        <ul>
                            <li>Nombre inifini de boucles par module</li>
                            <li>Une API claire permettant d'implémenter facilement une nouvelle boucle</li>
                        </ul>
                    </section>
                    <section>
                        <h2>What else ?</h2>
                        <p>La boucle product de Thelia ne me convient pas, je veux implémenter ma propre boucle product !</p>
                    </section>
                    <section>
                        <h2>Let's do it !</h2>
                        <pre>
                            <code data-trim>
<?xml version="1.0" encoding="UTF-8" ?>

<config xmlns="http://thelia.net/schema/dic/config"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://thelia.net/schema/dic/config http://thelia.net/schema/dic/config/thelia-1.0.xsd"
>
    <loops>
        <loop name="product" class="MyModule\Loop\Product" ></loop>
    </loops>
</config>
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Actions</h2>
                        <p>Même principe que thelia 1 mais une implémentation différente</p>
                    </section>
                    <section>
                        <h2>config.xml</h2>
                        <pre>
                            <code class="xml" data-trim>
<?xml version="1.0" encoding="UTF-8" ?>

<config xmlns="http://thelia.net/schema/dic/config"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://thelia.net/schema/dic/config http://thelia.net/schema/dic/config/thelia-1.0.xsd"
        >
    <services>
        <service id="myplugin.action.customer" class="MyModule\Actions\Customer">
            <tag name="kernel.event_subscriber"/>
        </service>
    </services>
</config>
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>classe action</h2>
                        <pre>
                            <code data-trim data-noescape>
namespace MyModule\Actions;

use Symfony\Component\EventDispatcher\EventSubscriberInterface;
use Thelia\Core\Event\ActionEvent;

class Customer implements EventSubscriberInterface
{
    public static function getSubscribedEvents()
    {
        return array(
            "action.createCustomer" => "create"
        );

    }

    public function create(ActionEvent $event)
    {
        //code here
    }
}
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Récapitulons</h2>
                        <ul>
                            <li>Nombre infini d'actions par module</li>
                            <li>Gérer une priorité d'exécution</li>
                            <li>Possibilité de stopper une action</li>
                        </ul>
                    </section>
                    <section>
                        <h2>What else ?</h2>
                        <p>Je veux remplacer le traitement des actions par défaut avec les miennes !</p>
                    </section>
                    <section>
                        <h2>Let's do it</h2>
                        <pre>
                            <code data-trim data-noescape>
namespace MyModule\Actions;

use Symfony\Component\EventDispatcher\EventSubscriberInterface;
use Thelia\Core\Event\ActionEvent;

class Customer implements EventSubscriberInterface
{
    public static function getSubscribedEvents()
    {
        return array(
            "action.createCustomer" => array("create", 0)
        );

    }

    public function create(ActionEvent $event)
    {
        //code here

        $event->stopPropagation();
    }
}
                            </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Ce n'est pas tout !</h2>
                    </section>
                    <section>
                        <p><b>Support base de données (postgresql, sqlite, autres)</b></p>
                        <p class="fragment"><b>Cache multi niveaux</b></p>
                        <p class="fragment"><b>Reverse proxy (Varnish)</b></p>
                    </section>
                </section>

                <section>
                    <h1>Merci !</h1>
                    <p><a href="http://thelia.net">http://thelia.net</a></p>
                    <p><a href="https://github.com/thelia">https://github.com/thelia</a></p>
                    <p><a href="https://twitter.com/theliaecommerce">@theliaecommerce</a></p>
                </section>

            </div>

		</div>

		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal.js/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
